(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(12),o=n.n(l),r=n(2),s=n(3),i=n(5),u=n(4),h=n(6),d=n(7),v=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.deck_id,n=this.props.card.code,a=this.props.card.image;return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return e.props.turnOverCard({deck_id:t})}},"Community card"),c.a.createElement("div",null,c.a.createElement("img",{src:a,height:"180px",width:"128px",alt:n})))}}]),t}(a.Component),m=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.deck_id,n=this.props.cards.map(function(e){return c.a.createElement("img",{className:"hand",src:e.image,key:e.code,alt:e.code,height:"180",width:"128"})});return c.a.createElement("div",null,c.a.createElement("button",{className:"freddy",onClick:function(){return e.props.getHand({deck_id:t})}},"Get Hand"),c.a.createElement("div",null,n))}}]),t}(a.Component),g=n(1),f=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showResults:!0},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"convertToIntegers",value:function(e){return e.map(function(e){return e.value}).map(function(e){return e=isNaN(e)?"ACE"===e?1:10:parseInt(e,10)})}},{key:"sortCards",value:function(e){for(var t=Object(g.a)(e),n=0;n<e.length;n++)switch(t[n].value){case"ACE":t[n].val=1;break;case"Jack":t[n].val=11;break;case"QUEEN":t[n].val=12;break;case"KING":t[n].val=13;break;default:t[n].val=parseInt(t[n].value,10)}return t.sort(function(e,t){return e.val-t.val}),t}},{key:"twoSum",value:function(e,t){for(var n=[],a=0;a<e.length;a++)for(var c=a+1;c<e.length;c++)e[a]+e[c]===t&&n.push([a,c]);return n}},{key:"convertToChars",value:function(e){var t=[];return e.map(function(e){return t.push(e.value)}),t}},{key:"convertToSuits",value:function(e){var t=[];return e.map(function(e){return t.push(e.suit)}),t}},{key:"findRun",value:function(e,t,n){console.log("hand ",e),console.log("Checking run in: ".concat(e[t[0]]," ").concat(e[t[1]]," ").concat(e[t[2]]));for(var a=!0,c=0;c<n-1;c++){console.log("Checking... ",c),console.log("Checking... ",e[t[c+1]].val+" vs "+e[t[c]].val);var l=e[t[c+1]].val-e[t[c]].val;console.log("Result: ",l),1!==l?(console.log("BBBBBBBBBBB"),a=!1):console.log("AAAAAAAAA")}return a}},{key:"countOcurrences",value:function(e,t){for(var n=0,a=0;a<e.length;a++)e[a]===t&&n++;return n}},{key:"getPairs",value:function(e){for(var t=this.convertToChars(e),n=new Set(t),a=Object(g.a)(n),c=[],l=0;l<a.length;l++){var o=[];if(this.countOcurrences(t,a[l])>1){for(var r=0;r<t.length;r++)a[l]===t[r]&&o.push(e[r]);var s={};s.result=o;var i=o.length;2===i?(s.description="Pair",s.score=2):3===i?(s.description="Three of a kind",s.score=6):4===i&&(s.description="Four of a kind",s.score=12),c.push(s)}}return c}},{key:"checkForFifteenPairs",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=this.convertToIntegers(e),a=this.twoSum(n,t),c=[],l=0;l<a.length;l++)c.push([e[a[l][0]],e[a[l][1]]]);return c}},{key:"checkForFifteenTriplets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=this.convertToIntegers(e),a=t-n[0];n.shift();for(var c=[],l=1;l<n.length;l++){for(var o=this.twoSum(n,a),r=0;r<o.length;r++){var s=[e[l-1]];s.push(e[o[r][0]+l]),s.push(e[o[r][1]+l]),c.push(s)}a=t-n[0],n.shift()}return c}},{key:"checkForFifteenQuartets",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=[],a=this.convertToIntegers(e),c=0;c<a.length;c++){if(a[0]+a[1]+a[2]+a[3]+a[4]-a[c]===t){var l=Object(g.a)(e);l.splice(c,1),n.push(l)}}return n}},{key:"checkForFifteenQuintet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=[],a=this.convertToIntegers(e);return a[0]+a[1]+a[2]+a[3]+a[4]===t&&n.push(e),n}},{key:"checkForFlush",value:function(e){var t=Object(g.a)(e);5===t.length&&(console.log(t[0].suit),console.log(t[1].suit));var n=function(e){return e.every(function(t){return t.suit===e[0].suit})},a=n(t);return console.log(a),a?t:(t.pop(),(a=n(t))?t:[])}},{key:"checkForRuns",value:function(e){var t=this.sortCards(e),n=[],a=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]],c=[[0,1,2],[0,1,3],[1,2,3],[0,1,4],[0,2,4],[1,2,4],[0,3,4],[1,3,4],[2,3,4]];console.log("1111111 after sort: ",t),console.log("Start...");for(var l=!0,o=0;o<4;o++)if(console.log("==== debug ====="),console.log(o),console.log(o),console.log(o),t[o+1].val-t[o].val!==1){l=!1;break}console.log("Testing for 5 run - result: ",l);var r=!1;if(!l)for(var s=0;s<a.length;s++)if(this.findRun(t,a[s],4)){console.log("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFOUND set of 4");console.log("Found a run of ".concat(t[a[s][0]]," ").concat(t[a[s][1]],"  ").concat(t[a[s][2]],"  ").concat(t[a[s][3]])),n.push([t[a[s][0]],t[a[s][1]],t[a[s][2]],t[a[s][3]]]),r=!0,console.log("GGGGGGGGGGGGGGGGG ",n)}else console.log("Did NOT find a run of 4");console.log("runOf4Found: ",r);if(!r)for(var i=0;i<c.length;i++)this.findRun(t,c[i],3)?(console.log("GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGFOUND set of 3"),console.log("Found a run of ".concat(t[c[i][0]].val," ").concat(t[c[i][1]].val,"  ").concat(t[c[i][2]].val)),n.push([t[c[i][0]],t[c[i][1]],t[c[i][2]]]),n.description="fred",n.score=3,!0):console.log("Did NOT find a run of 3");return n}},{key:"tallyTheScores",value:function(e,t,n){for(var a=0,c=0;c<e.length;c++)a+=e[c].score;for(var l=0;l<t.length;l++)a+=2;for(var o=0;o<n.length;o++)a+=n[o].length;return console.log("Tally of the scores: ",a),a}},{key:"render",value:function(){var e,t,n,a,l,o,r,s=this,i=[],u=this.props,h=u.cards,d=u.card,v=this.state.showResults,m=Object(g.a)(h);m.push(d);var f=0;if(5===m.length){i=this.getPairs(m),console.log("======> fullHand: ",m),console.log("****** P A I R  T E S T I N G"),console.log(i);var p=this.checkForFifteenPairs(m);console.log("======> fullHand: ",m),console.log("****** S U M   T E S T I N G - P A I R S "),console.log(p);var k=this.checkForFifteenTriplets(m);console.log("======> fullHand: ",m),console.log("****** S U M   T E S T I N G - T R I P L E T S  "),console.log(k);var G=this.checkForFifteenQuartets(m);console.log("======> fullHand: ",m),console.log("****** S U M   T E S T I N G - Q U A R T E T S  "),console.log(G);var E=this.checkForFifteenQuintet(m);console.log("======> fullHand: ",m),console.log("****** S U M   T E S T I N G - Q U I N T E T  "),console.log(E),o=this.checkForFlush(m),console.log("======> fullHand: ",m),console.log("****** F L U S H   T E S T I N G   "),console.log(o),r=this.checkForRuns(m),console.log("======> fullHand: ",m),console.log("******  R U N S    T E S T I N G   "),console.log(r),l=[].concat(Object(g.a)(p),Object(g.a)(k),Object(g.a)(G),Object(g.a)(E)),f=this.tallyTheScores(i,l,r)}var b=c.a.createElement("div",{className:"show-results"},c.a.createElement("input",{type:"checkbox",inline:"true",checked:v,onClick:function(){s.setState({showResults:!v})}}),c.a.createElement("div",null,"Show results"));return 5===m.length&&(e=c.a.createElement("div",null,i.map(function(e){return c.a.createElement("div",{style:{display:v?"block":"none"}},c.a.createElement("ul",null,c.a.createElement("div",{className:"result-row"},c.a.createElement("div",{className:"result-image"},e.result.map(function(e){return c.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"result-text"},e.description," - Points: ",e.score))))})),t=c.a.createElement("div",null,l.map(function(e){return c.a.createElement("div",{style:{display:v?"block":"none"}},c.a.createElement("ul",null,c.a.createElement("div",{className:"result-row"},c.a.createElement("div",{className:"result-image"},e.map(function(e){return c.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"result-text"},"Sum to 15 - Points: 2"))))})),n=c.a.createElement("div",null,r.map(function(e){return c.a.createElement("div",{style:{display:v?"block":"none"}},c.a.createElement("ul",null,c.a.createElement("div",{className:"result-row"},c.a.createElement("div",{className:"result-image"},e.map(function(e){return c.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"result-text"},"Run - Points: ",e.length))))})),a=o.length>0?c.a.createElement("div",{style:{display:v?"block":"none"}},c.a.createElement("ul",null,c.a.createElement("div",{className:"result-row"},c.a.createElement("div",{className:"result-image"},o.map(function(e){return c.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"result-text"},"Flush - Points: 5")))):c.a.createElement("div",null)),5===m.length?c.a.createElement("div",null,c.a.createElement("div",null,b),c.a.createElement("div",{style:{display:v?"block":"none"}},c.a.createElement("h3",null,"Result: Score = ",f)),e,t,n,a):c.a.createElement("div",null,b,c.a.createElement("div",null,"Nothing to display"))}}]),t}(a.Component),p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).turnOverCard=n.turnOverCard.bind(Object(d.a)(Object(d.a)(n))),n.getHand=n.getHand.bind(Object(d.a)(Object(d.a)(n))),n.state={deck:[]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then(function(e){return e.json()}).then(function(t){e.setState({deck:t})})}},{key:"turnOverCard",value:function(e){var t=this,n="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=1";fetch(n).then(function(e){return e.json()}).then(function(e){t.setState({crib:e.cards})})}},{key:"getHand",value:function(e){this.setState({hand:[{value:"5",code:"5h",image:"https://deckofcardsapi.com/static/img/5H.png",suit:"hearts"},{value:"6",code:"2d",image:"https://deckofcardsapi.com/static/img/6D.png",suit:"diamonds"},{value:"7",code:"9c",image:"https://deckofcardsapi.com/static/img/7C.png",suit:"clubs"},{value:"2",code:"2h",image:"https://deckofcardsapi.com/static/img/2H.png",suit:"hearts"}]})}},{key:"getHandTemp",value:function(e){var t=this,n="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=4";fetch(n).then(function(e){return e.json()}).then(function(e){console.log("GET HAND cards2",e.cards),t.setState({hand:e.cards})})}},{key:"render",value:function(){var e,t,n=this.state.deck.deck_id;return e=this.state.crib?this.state.crib[0]:{},t=this.state.hand?this.state.hand:[],c.a.createElement("div",{className:"container"},c.a.createElement("h1",null,"Cribbage Hand Tester"),c.a.createElement("p",null,"Guess how many points this hand is worth."),c.a.createElement(m,{deck_id:n,getHand:this.getHand,cards:t}),c.a.createElement(v,{deck_id:n,turnOverCard:this.turnOverCard,card:e}),c.a.createElement(f,{cards:t,card:e}))}}]),t}(a.Component);n(22);o.a.render(c.a.createElement(p,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.bf80e379.chunk.js.map