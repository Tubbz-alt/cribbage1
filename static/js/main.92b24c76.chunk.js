(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(24)},22:function(e,t,a){},24:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),s=a(2),o=a(3),i=a(5),u=a(4),d=a(6),h=a(7),m=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.deck_id,n=this.props.card.code,c=this.props.card.image;return e=c?r.a.createElement("div",null,r.a.createElement("img",{className:"hand",src:c,alt:n})):r.a.createElement("div",null,r.a.createElement("img",{className:"hand",src:"./card_back.jpg",alt:n})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t.props.turnOverCard({deck_id:a})}},"Community card"),e)}}]),t}(n.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.deck_id,n=this.props.cards;return e=n.length>0?n.map(function(e){return r.a.createElement("img",{className:"hand",src:e.image,key:e.code,alt:e.code})}):r.a.createElement("div",null,r.a.createElement("img",{className:"hand",src:"card_back.jpg",alt:"1"}),r.a.createElement("img",{className:"hand",src:"./card_back.jpg",alt:"2"}),r.a.createElement("img",{className:"hand",src:"./card_back.jpg",alt:"3"}),r.a.createElement("img",{className:"hand",src:"../card_back.jpg",alt:"4"})),r.a.createElement("div",null,r.a.createElement("button",{className:"freddy",onClick:function(){return t.props.getHand({deck_id:a})}},"Get Hand"),r.a.createElement("div",null,e))}}]),t}(n.Component),f=a(1),p=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showResults:!0},a.personName="Fred",a.patternsOfThree=[[0,1,2],[0,1,3],[1,2,3],[0,1,4],[0,2,4],[1,2,4],[0,3,4],[1,3,4],[2,3,4],[0,2,3]],a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"convertToIntegers",value:function(e){return e.map(function(e){return e.value}).map(function(e){return e=isNaN(e)?"ACE"===e?1:10:parseInt(e,10)})}},{key:"sortCards",value:function(e){for(var t=Object(f.a)(e),a=0;a<e.length;a++)switch(t[a].value){case"ACE":t[a].val=1;break;case"JACK":t[a].val=11;break;case"QUEEN":t[a].val=12;break;case"KING":t[a].val=13;break;default:t[a].val=parseInt(t[a].value,10)}return t.sort(function(e,t){return e.val-t.val}),t}},{key:"twoSum",value:function(e,t){for(var a=[],n=0;n<e.length;n++)for(var r=n+1;r<e.length;r++)e[n]+e[r]===t&&a.push([n,r]);return a}},{key:"convertToChars",value:function(e){var t=[];return e.map(function(e){return t.push(e.value)}),t}},{key:"convertToSuits",value:function(e){var t=[];return e.map(function(e){return t.push(e.suit)}),t}},{key:"findRun",value:function(e,t,a){for(var n=!0,r=0;r<a-1;r++){1!==e[t[r+1]].val-e[t[r]].val&&(n=!1)}return n}},{key:"countOcurrences",value:function(e,t){for(var a=0,n=0;n<e.length;n++)e[n]===t&&a++;return a}},{key:"getPairs",value:function(e){for(var t=this.convertToChars(e),a=new Set(t),n=Object(f.a)(a),r=[],c=0;c<n.length;c++){var l=[];if(this.countOcurrences(t,n[c])>1){for(var s=0;s<t.length;s++)n[c]===t[s]&&l.push(e[s]);var o={};o.result=l;var i=l.length;2===i?(o.description="Pair",o.score=2):3===i?(o.description="Three of a kind",o.score=6):4===i&&(o.description="Four of a kind",o.score=12),r.push(o)}}return r}},{key:"checkForFifteenPairs",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=this.convertToIntegers(e),n=this.twoSum(a,t),r=[],c=0;c<n.length;c++)r.push([e[n[c][0]],e[n[c][1]]]);return r}},{key:"checkForFifteenTriplets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=this.convertToIntegers(e),n=t-a[0];a.shift();for(var r=[],c=1;c<a.length+2;c++){for(var l=this.twoSum(a,n),s=0;s<l.length;s++){var o=[e[c-1]];o.push(e[l[s][0]+c]),o.push(e[l[s][1]+c]),r.push(o)}n=t-a[0],a.shift()}return r}},{key:"checkForFifteenQuartets",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=[],n=this.convertToIntegers(e),r=0;r<n.length;r++){if(n[0]+n[1]+n[2]+n[3]+n[4]-n[r]===t){var c=Object(f.a)(e);c.splice(r,1),a.push(c)}}return a}},{key:"checkForFifteenQuintet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=[],n=this.convertToIntegers(e);return n[0]+n[1]+n[2]+n[3]+n[4]===t&&a.push(e),a}},{key:"checkForFlush",value:function(e){var t=Object(f.a)(e),a=function(e){return e.every(function(t){return t.suit===e[0].suit})},n=a(t);return n?t:(t.pop(),(n=a(t))?t:[])}},{key:"checkForNibs",value:function(e,t){for(var a=t.suit,n=[],r=0;r<e.length;r++)"JACK"===e[r].value&&e[r].suit===a&&n.push(t);return n}},{key:"checkForRuns",value:function(e){var t=this.sortCards(e),a=[],n=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]];console.log(this.personName);for(var r=!0,c=0;c<4;c++)if(t[c+1].val-t[c].val!==1){r=!1;break}var l=!1;if(!r)for(var s=0;s<n.length;s++)if(this.findRun(t,n[s],4)){a.push([t[n[s][0]],t[n[s][1]],t[n[s][2]],t[n[s][3]]]),l=!0}if(!l)for(var o=0;o<this.patternsOfThree.length;o++)this.findRun(t,this.patternsOfThree[o],3)&&(a.push([t[this.patternsOfThree[o][0]],t[this.patternsOfThree[o][1]],t[this.patternsOfThree[o][2]]]),a.description="fred",a.score=3,!0);return a}},{key:"tallyTheScores",value:function(e,t,a,n){for(var r=0,c=0;c<e.length;c++)r+=e[c].score;for(var l=0;l<t.length;l++)r+=2;for(var s=0;s<a.length;s++)r+=a[s].length;return n.length>0&&(r+=1),r}},{key:"render",value:function(){var e,t,a,n,c,l,s,o,i,u=this,d=[],h=this.props,m=h.cards,v=h.card,p=this.state.showResults,g=Object(f.a)(m);g.push(v);var k=0;if(5===g.length){d=this.getPairs(g),console.log("======> fullHand: ",g),console.log("****** P A I R  T E S T I N G"),console.log(d);var E=this.checkForFifteenPairs(g);console.log("======> fullHand: ",g),console.log("****** S U M   T E S T I N G - P A I R S "),console.log(E);var b=this.checkForFifteenTriplets(g);console.log("======> fullHand: ",g),console.log("****** S U M   T E S T I N G - T R I P L E T S  "),console.log(b);var y=this.checkForFifteenQuartets(g);console.log("======> fullHand: ",g),console.log("****** S U M   T E S T I N G - Q U A R T E T S  "),console.log(y);var N=this.checkForFifteenQuintet(g);console.log("======> fullHand: ",g),console.log("****** S U M   T E S T I N G - Q U I N T E T  "),console.log(N),s=this.checkForFlush(g),console.log("======> fullHand: ",g),console.log("****** F L U S H   T E S T I N G   "),console.log(s),o=this.checkForRuns(g),console.log("======> fullHand: ",g),console.log("******  R U N S    T E S T I N G   "),console.log("======> runsResult ",o),console.log(o),i=this.checkForNibs(m,v),console.log("======> cards: ",m),console.log("======> card: ",v),console.log("======> nibsResult ",i),console.log("******  N I B S   T E S T I N G   "),console.log(i),l=[].concat(Object(f.a)(E),Object(f.a)(b),Object(f.a)(y),Object(f.a)(N)),k=this.tallyTheScores(d,l,o,i)}var O=r.a.createElement("div",{className:"show-results"},r.a.createElement("input",{type:"checkbox",inline:"true",checked:p,onClick:function(){u.setState({showResults:!p})}}),r.a.createElement("div",null,"Show results"));return 5===g.length&&(e=r.a.createElement("div",null,d.map(function(e){return r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.result.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},e.description," - Points: ",e.score))))})),t=r.a.createElement("div",null,l.map(function(e){return r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Sum to 15 - Points: 2"))))})),a=r.a.createElement("div",null,o.map(function(e){return r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Run - Points: ",e.length))))})),c=r.a.createElement("div",null,i.map(function(e){return r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})),r.a.createElement("div",{className:"result-text"},"Nibs - Points: 1"))))})),n=s.length>0?r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},s.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Flush - Points: 5")))):r.a.createElement("div",null)),5===g.length?r.a.createElement("div",null,r.a.createElement("div",null,O),r.a.createElement("div",{style:{display:p?"block":"none"}},r.a.createElement("h3",null,"Result: Score = ",k)),e,t,a,n,c):r.a.createElement("div",null,O,r.a.createElement("div",null,"Nothing to display"))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).turnOverCard=a.turnOverCard.bind(Object(h.a)(Object(h.a)(a))),a.getHand=a.getHand.bind(Object(h.a)(Object(h.a)(a))),a.state={deck:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then(function(e){return e.json()}).then(function(t){e.setState({deck:t})})}},{key:"turnOverCard",value:function(e){var t=this,a="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=1";fetch(a).then(function(e){return e.json()}).then(function(e){t.setState({crib:e.cards})})}},{key:"getHandTemp",value:function(e){this.setState({hand:[{value:"4",code:"4d",image:"https://deckofcardsapi.com/static/img/4D.png",suit:"DIAMONDS"},{value:"2",code:"2c",image:"https://deckofcardsapi.com/static/img/2C.png",suit:"CLUBS"},{value:"2",code:"2h",image:"https://deckofcardsapi.com/static/img/2H.png",suit:"HEARTS"},{value:"3",code:"3h",image:"https://deckofcardsapi.com/static/img/3H.png",suit:"HEARTS"}]})}},{key:"getHand",value:function(e){var t=this,a="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=4";fetch(a).then(function(e){return e.json()}).then(function(e){t.setState({hand:e.cards})})}},{key:"render",value:function(){var e,t,a=this.state.deck.deck_id;return e=this.state.crib?this.state.crib[0]:{},t=this.state.hand?this.state.hand:[],r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Cribbage Hand Tester"),r.a.createElement("p",null,"Guess how many points this hand is worth."),r.a.createElement(v,{deck_id:a,getHand:this.getHand,cards:t}),r.a.createElement(m,{deck_id:a,turnOverCard:this.turnOverCard,card:e}),r.a.createElement(p,{cards:t,card:e}))}}]),t}(n.Component);a(22);l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.92b24c76.chunk.js.map