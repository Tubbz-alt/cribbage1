(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},19:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a.n(r),o=a(18),i=a(1),l=a(4),u=a(5),d=a(8),m=a(6),h=a(7),g=a(2),v=a(9),p=a.n(v),f=a(3),E=a.n(f),b=function(e){var t=e.cards,a=e.buttonText,n=e.cardsLeft,r=[];return r=t.length>0?t.map(function(e,t){return 4!==t?c.a.createElement("img",{className:"card",src:e.image,key:e.code,id:e.code,alt:e.code}):c.a.createElement("img",{className:"c-card",src:e.image,key:e.code,id:e.code,alt:e.code})}):c.a.createElement("div",{className:"cribbage-section"},c.a.createElement("img",{className:"card",src:"./card_back.jpg",alt:"1"}),c.a.createElement("img",{className:"card",src:"./card_back.jpg",alt:"2"}),c.a.createElement("img",{className:"card",src:"./card_back.jpg",alt:"3"}),c.a.createElement("img",{className:"card",src:"./card_back.jpg",alt:"4"}),c.a.createElement("img",{className:"c-card",src:"./card_back.jpg",alt:"5"})),c.a.createElement("div",{className:"cribbage-parent"},c.a.createElement("header",{className:"cribbage-header"},c.a.createElement("button",{className:"cribbage-button",onClick:function(){return e.getHand()}},a),c.a.createElement("button",{className:"cribbage-button",onClick:function(){return e.sortHand()}},"Sort Cards"),c.a.createElement("button",{className:"cribbage-button",onClick:function(){return e.setShowCustomHand(!0)}},"Custom Hand")),c.a.createElement("div",null,"Cards remaining in deck: ",n),c.a.createElement("section",null,c.a.createElement("div",null,r)))};b.proptypes={cards:E.a.array.isReqired,buttonText:E.a.string.isReqired,cardsLeft:E.a.number.isReqired};var k=b,C=[[0,1,2],[0,1,3],[1,2,3],[0,1,4],[0,2,4],[1,2,4],[0,3,4],[1,3,4],[2,3,4],[0,2,3]],N=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]];function y(e){return e.map(function(e){return e.value}).map(function(e){return e=isNaN(e)?"ACE"===e?1:10:parseInt(e,10)})}function H(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=[],n=0;n<e.length;n++)for(var c=n+1;c<e.length;c++)e[n]+e[c]===t&&a.push([n,c]);return a}function w(e,t){for(var a=!0,n=0;n<t.length-1;n++){1!==e[t[n+1]].val-e[t[n]].val&&(a=!1)}return a}function O(e,t){for(var a=0,n=0;n<e.length;n++)e[n]===t&&a++;return a}function S(e){var t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=H(y(e),t),n=[],c=0;c<a.length;c++)n.push([e[a[c][0]],e[a[c][1]]]);return n}(e,15),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=y(e),n=t-a[0];a.shift();for(var c=[],r=1;r<a.length+2;r++){for(var s=H(a,n),o=0;o<s.length;o++){var i=[e[r-1]];i.push(e[s[o][0]+r]),i.push(e[s[o][1]+r]),c.push(i)}n=t-a[0],a.shift()}return c}(e,15),n=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=[],n=y(e),c=0;c<n.length;c++){var r=n[0]+n[1]+n[2]+n[3]+n[4]-n[c];if(r===t){var s=Object(i.a)(e);s.splice(c,1),a.push(s)}}return a}(e,15),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=[],n=y(e);n[0]+n[1]+n[2]+n[3]+n[4]===t&&a.push(e);return a}(e,15);return[].concat(Object(i.a)(t),Object(i.a)(a),Object(i.a)(n),Object(i.a)(c))}function j(e){for(var t=function(e){for(var t=Object(i.a)(e),a=0;a<e.length;a++)switch(t[a].value){case"ACE":t[a].val=1;break;case"JACK":t[a].val=11;break;case"QUEEN":t[a].val=12;break;case"KING":t[a].val=13;break;default:t[a].val=parseInt(t[a].value,10)}return t.sort(function(e,t){return e.val-t.val}),t}(e),a=[],n=!0,c=0;c<4;c++)if(t[c+1].val-t[c].val!==1){n=!1;break}var r=!1;if(!n)for(var s=0;s<N.length;s++)w(t,N[s])&&(a.push([t[N[s][0]],t[N[s][1]],t[N[s][2]],t[N[s][3]]]),r=!0);if(!r&&!n)for(var o=0;o<C.length;o++)w(t,C[o])&&a.push([t[C[o][0]],t[C[o][1]],t[C[o][2]]]);return n?[t]:a}var A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={showResults:!0},a.patternsOfThree=[[0,1,2],[0,1,3],[1,2,3],[0,1,4],[0,2,4],[1,2,4],[0,3,4],[1,3,4],[2,3,4],[0,2,3]],a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"addHighlight",value:function(e,t){var a;a=t.result?t.result:t;for(var n=0;n<a.length;n++){var c=document.getElementById(a[n].code);c&&(c.style.border="2px solid blue",c.style["border-radius"]="8px")}}},{key:"removeHighlight",value:function(e,t){var a;a=t.result?t.result:t;for(var n=0;n<a.length;n++){var c=document.getElementById(a[n].code);c&&(c.style.border=null)}}},{key:"tallyTheScores",value:function(e,t,a,n,c){for(var r=0,s=0;s<e.length;s++)r+=e[s].score;for(var o=0;o<t.length;o++)r+=2;for(var i=0;i<a.length;i++)r+=a[i].length;return n.length>0&&(r+=n.length),c.length>0&&(r+=1),r}},{key:"render",value:function(){var e,t,a,n,r,s,o,l,u,d=this,m=[],h=this.props.cards,g=this.state.showResults,v=Object(i.a)(h),p=0;5===v.length&&(s=S(v),l=j(v),m=function(e){for(var t=function(e){var t=[];return e.map(function(e){return t.push(e.value)}),t}(e),a=new Set(t),n=Object(i.a)(a),c=[],r=0;r<n.length;r++){var s=[];if(O(t,n[r])>1){for(var o=0;o<t.length;o++)n[r]===t[o]&&s.push(e[o]);var l={};l.result=s;var u=s.length;2===u?(l.description="Pair",l.score=2):3===u?(l.description="Three of a kind",l.score=6):4===u&&(l.description="Four of a kind",l.score=12),c.push(l)}}return c}(v),o=function(e){var t=Object(i.a)(e),a=function(e){return e.every(function(t){return t.suit===e[0].suit})},n=a(t);return n?t:(t.pop(),(n=a(t))?t:[])}(v),u=function(e){for(var t=e[4].suit,a=[],n=0;n<e.length-1;n++)"JACK"===e[n].value&&e[n].suit===t&&(a.push(e[n]),a.push(e[4]));return a}(h),p=this.tallyTheScores(m,s,l,o,u));var f=c.a.createElement("div",{className:"show-results"},c.a.createElement("input",{type:"checkbox",inline:"true",checked:g,onChange:function(){d.setState({showResults:!g})}}),c.a.createElement("div",null,"Show results"));return 5===v.length&&(e=c.a.createElement("div",null,m.map(function(e){return c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("section",{className:"cribbage-results",onMouseOver:function(t){return d.addHighlight(t,e)},onMouseOut:function(t){return d.removeHighlight(t,e)}},c.a.createElement("div",{className:"card-result"},e.result.map(function(e){return c.a.createElement("img",{className:"result-card",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"cribbage-points"},c.a.createElement("span",null,e.description," - Points: ",e.score))))})),t=c.a.createElement("div",null,s.map(function(e){return c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("section",{className:"cribbage-results",onMouseOver:function(t){return d.addHighlight(t,e)},onMouseOut:function(t){return d.removeHighlight(t,e)}},c.a.createElement("div",{className:"card-result"},e.map(function(e){return c.a.createElement("img",{className:"result-card",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"cribbage-points"},c.a.createElement("span",null,"Sum to 15 - Points: 2"))))})),a=c.a.createElement("div",null,l.map(function(e){return c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("section",{className:"cribbage-results",onMouseOver:function(t){return d.addHighlight(t,e)},onMouseOut:function(t){return d.removeHighlight(t,e)}},c.a.createElement("div",{className:"card-result"},e.map(function(e){return c.a.createElement("img",{className:"result-card",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"cribbage-points"},c.a.createElement("span",null,"Run - Points: ",e.length))))})),u.length>0&&(r=c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("section",{className:"cribbage-results",onMouseOver:function(e){return d.addHighlight(e,u)},onMouseOut:function(e){return d.removeHighlight(e,u)}},c.a.createElement("div",{className:"card-result"},u.map(function(e){return c.a.createElement("img",{className:"result-card",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"cribbage-points"},c.a.createElement("span",null,"Nibs - Points: 1"))))),n=o.length>0?c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("section",{className:"cribbage-results",onMouseOver:function(e){return d.addHighlight(e,o)},onMouseOut:function(e){return d.removeHighlight(e,o)}},c.a.createElement("div",{className:"card-result"},o.map(function(e){return c.a.createElement("img",{className:"result-card",src:e.image,key:e.code,alt:e.code})})),c.a.createElement("div",{className:"cribbage-points"},c.a.createElement("span",null,"Flush - Points: ",o.length)))):c.a.createElement("div",null)),5===v.length?c.a.createElement("div",null,c.a.createElement("div",null,f),c.a.createElement("div",{style:{display:g?"block":"none"}},c.a.createElement("h3",{className:"cribbage-text"},"Score = ",p)),t,a,e,n,r):c.a.createElement("div",null,f,c.a.createElement("div",null,"Nothing to display"))}}]),t}(n.Component);A.proptypes={cards:E.a.array.isReqired,card:E.a.object.isReqired};var X=A,M=(a(16),function(e){var t=function(t){t.preventDefault(),e.onCustomHandChange(t.target.name,t.target.value)},a=function(e,a){return c.a.createElement("div",{className:"the-cards",onChange:t},c.a.createElement("select",{className:"custom-select",value:a,name:e},c.a.createElement("option",{value:"ACE"},"Ace"),c.a.createElement("option",{value:"2"},"Two"),c.a.createElement("option",{value:"3"},"Three"),c.a.createElement("option",{value:"4"},"Four"),c.a.createElement("option",{value:"5"},"Five"),c.a.createElement("option",{value:"6"},"Six"),c.a.createElement("option",{value:"7"},"Seven"),c.a.createElement("option",{value:"8"},"Eight"),c.a.createElement("option",{value:"9"},"Nine"),c.a.createElement("option",{value:"10"},"Ten"),c.a.createElement("option",{value:"JACK"},"Jack"),c.a.createElement("option",{value:"QUEEN"},"Queen"),c.a.createElement("option",{value:"KING"},"King")))},n=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"SPADES";return c.a.createElement("div",{className:"the-suits",onChange:t},c.a.createElement("select",{className:"custom-select",value:a,name:e},c.a.createElement("option",{value:"HEARTS"},"Hearts"),c.a.createElement("option",{value:"DIAMONDS"},"Diamonds"),c.a.createElement("option",{value:"SPADES"},"Spades"),c.a.createElement("option",{value:"CLUBS"},"Clubs")))};return e.showCustomHand&&e.cards.length>3?c.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setShowCustomHand(!1)}},c.a.createElement("div",{id:"cardOptions"},c.a.createElement("div",{className:"card-option"},a("card1",e.cards[0].value),n("suit1",e.cards[0].suit)),c.a.createElement("div",{className:"card-option"},a("card2",e.cards[1].value),n("suit2",e.cards[1].suit)),c.a.createElement("div",{className:"card-option"},a("card3",e.cards[2].value),n("suit3",e.cards[2].suit)),c.a.createElement("div",{className:"card-option"},a("card4",e.cards[3].value),n("suit4",e.cards[3].suit)),c.a.createElement("div",{className:"c-card-option"},a("card5",e.cards[4].value),n("suit5",e.cards[4].suit))),c.a.createElement("button",{className:"cribbage-button",type:"submit",value:"Hello"},"Hide")):null}),T=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).codeMap={ACE:"A",2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:0,JACK:"J",QUEEN:"Q",KING:"K"},a.valueMap={ACE:"A",2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,JACK:11,QUEEN:12,KING:13},a.getHand=a.getHand.bind(Object(g.a)(Object(g.a)(a))),a.sortHand=a.sortHand.bind(Object(g.a)(Object(g.a)(a))),a.setShowCustomHand=a.setShowCustomHand.bind(Object(g.a)(Object(g.a)(a))),a.onCustomHandChange=a.onCustomHandChange.bind(Object(g.a)(Object(g.a)(a))),a.state={deck:[],hand:[],customHand:[],cardsLeft:52,showCustomHand:!1},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){console.log("XXXXXXXXXXXXX App is unmounting")}},{key:"componentDidMount",value:function(){var e=this;console.log("XXXXXXXXXXXXX App is mounting: ",this.state);fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then(function(e){return e.json()}).then(function(t){e.setState({deck_id:t.deck_id,cardsLeft:t.remaining})})}},{key:"getHandTemp",value:function(){this.setState({hand:[{value:"4",code:"4c",image:"https://deckofcardsapi.com/static/img/4C.png",suit:"CLUBS"},{value:"2",code:"2c",image:"https://deckofcardsapi.com/static/img/2C.png",suit:"CLUBS"},{value:"5",code:"5c",image:"https://deckofcardsapi.com/static/img/5C.png",suit:"CLUBS"},{value:"3",code:"3c",image:"https://deckofcardsapi.com/static/img/3C.png",suit:"CLUBS"},{value:"7",code:"7c",image:"https://deckofcardsapi.com/static/img/7C.png",suit:"CLUBS"}]})}},{key:"getHand",value:function(){var e,t=this;this.state.cardsLeft<5?(p()("New deck","There are not enough cards left in the deck. Now using new deck","info"),e="https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1",fetch(e).then(function(e){return e.json()}).then(function(a){t.setState({deck_id:a.deck_id,cardsLeft:a.remaining}),e="https://deckofcardsapi.com/api/deck/"+a.deck_id+"/draw/?count=5"}).then(function(){fetch(e).then(function(e){return e.json()}).then(function(e){t.setState({hand:e.cards,cardsLeft:e.remaining})})})):(e="https://deckofcardsapi.com/api/deck/"+this.state.deck_id+"/draw/?count=5",fetch(e).then(function(e){return e.json()}).then(function(e){t.setState({hand:e.cards,cardsLeft:e.remaining})}))}},{key:"compareCardValues",value:function(e,t){var a=0;return e.val>t.val?a=1:e.val<t.val&&(a=-1),a}},{key:"sortHand",value:function(){var e=Object(i.a)(this.state.hand);e.sort(this.compareCardValues),this.setState({hand:e})}},{key:"setShowCustomHand",value:function(e){this.setState({showCustomHand:e})}},{key:"showCustomHandForm",value:function(){console.log("Showing custom hand form. ",this.props)}},{key:"getCode",value:function(e,t){return"".concat(this.codeMap[e]).concat(t.charAt(0))}},{key:"alreadyExists1",value:function(e,t){console.log("alreadyExists - position: ",e),console.log("alreadyExists - value: ",t),console.log("code map stuff: ",this.codeMap[t]);for(var a=this.state.hand[e].suit,n=this.getCode(t,a),c=0;c<this.state.hand.length;c++)if(console.log("Comparing... ",this.state.hand[c].code," to ",n),this.state.hand[c].code===n)return!0;return!1}},{key:"alreadyExists2",value:function(e,t){console.log("alreadyExists - position: ",e),console.log("alreadyExists - value: ",t);var a="".concat(this.state.hand[e].code.charAt(0)).concat(t.charAt(0));console.log("new code : ",a);for(var n=0;n<this.state.hand.length;n++)if(console.log("Comparing... ",this.state.hand[n].code," to ",a),this.state.hand[n].code===a)return!0;return!1}},{key:"changeCard",value:function(e,t){console.log("changeCard - value: ",t),console.log("code map stuff: ",this.codeMap[t]),e.value=t;var a=this.codeMap[t]+e.code.charAt(1);e.code=a;var n="https://deckofcardsapi.com/static/img/".concat(a,".png");return e.image=n,e}},{key:"changeSuit",value:function(e,t){console.log("changeSuit - value: ",t),e.suit=t;var a=t.charAt(0);console.log("suitChar: ",a);var n=e.code.charAt(0)+a;e.code=n;var c="https://deckofcardsapi.com/static/img/".concat(n,".png");return e.image=c,console.log("New card: ",e),e}},{key:"onCustomHandChange",value:function(e,t){var a=e.charAt(e.length-1)-1;console.log("Custom hand has changed. The name is: ",e),console.log("Custom hand has changed. The value is: ",t),console.log("Custom hand has changed. The position is: ",a);var n,c=this.state.hand,r=Object(o.a)({},c[a]);"card"===e.slice(0,4)?(console.log("Dealing with the card change"),this.alreadyExists1(a,t)?(p()("Oops!","You cannot have two identical cards in a hand.","warning"),console.log("NOT making the change...")):(console.log("Making the change..."),n=this.changeCard(r,t),c[a]=n,this.setState({hand:c}))):"suit"===e.slice(0,4)&&(console.log("Dealing with a suit change"),this.alreadyExists2(a,t)?(p()("Oops","You cannot have two identical cards in a hand.","warning"),console.log("NOT making the change...")):(n=this.changeSuit(r,t),c[a]=n,this.setState({hand:c})))}},{key:"render",value:function(){var e,t=this.state.cardsLeft,a=this.state.showCustomHand,n=this.setShowCustomHand,r=this.onCustomHandChange;e=this.state.hand?this.state.hand:[];var s="";return s=52===t?"Reveal Cards":"Get new cards",c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"cribbage-text"},"Cribbage Hand Tester"),c.a.createElement("p",null,"Guess how many points this hand is worth."),c.a.createElement("div",{className:"result-row"},c.a.createElement(c.a.Fragment,null,c.a.createElement(k,{getHand:this.getHand,sortHand:this.sortHand,showCustomHand:this.showCustomHandForm,setShowCustomHand:n,cardsLeft:t,cards:e,buttonText:s}))),c.a.createElement("div",{id:"customHand"},c.a.createElement(M,{cards:e,showCustomHand:a,setShowCustomHand:n,onCustomHandChange:r})),c.a.createElement(X,{cards:e}))}}]),t}(n.Component);s.a.render(c.a.createElement(T,null),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.45abe39b.chunk.js.map