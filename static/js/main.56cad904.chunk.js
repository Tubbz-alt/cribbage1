(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),l=n.n(c),s=n(2),o=n(3),i=n(5),u=n(4),d=n(6),h=n(7),m=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.deck_id,n=this.props.card.code,a=this.props.card.image;return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.props.turnOverCard({deck_id:t})}},"Community card"),r.a.createElement("div",null,r.a.createElement("img",{src:a,height:"180px",width:"128px",alt:n})))}}]),t}(a.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.deck_id,n=this.props.cards.map(function(e){return r.a.createElement("img",{className:"hand",src:e.image,key:e.code,alt:e.code,height:"180",width:"128"})});return r.a.createElement("div",null,r.a.createElement("button",{className:"freddy",onClick:function(){return e.props.getHand({deck_id:t})}},"Get Hand"),r.a.createElement("div",null,n))}}]),t}(a.Component),f=n(1),g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showResults:!0},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"convertToIntegers",value:function(e){return e.map(function(e){return e.value}).map(function(e){return e=isNaN(e)?"ACE"===e?1:10:parseInt(e,10)})}},{key:"sortCards",value:function(e){for(var t=Object(f.a)(e),n=0;n<e.length;n++)switch(t[n].value){case"ACE":t[n].val=1;break;case"JACK":t[n].val=11;break;case"QUEEN":t[n].val=12;break;case"KING":t[n].val=13;break;default:t[n].val=parseInt(t[n].value,10)}return t.sort(function(e,t){return e.val-t.val}),t}},{key:"twoSum",value:function(e,t){for(var n=[],a=0;a<e.length;a++)for(var r=a+1;r<e.length;r++)e[a]+e[r]===t&&n.push([a,r]);return n}},{key:"convertToChars",value:function(e){var t=[];return e.map(function(e){return t.push(e.value)}),t}},{key:"convertToSuits",value:function(e){var t=[];return e.map(function(e){return t.push(e.suit)}),t}},{key:"findRun",value:function(e,t,n){for(var a=!0,r=0;r<n-1;r++){1!==e[t[r+1]].val-e[t[r]].val&&(a=!1)}return a}},{key:"countOcurrences",value:function(e,t){for(var n=0,a=0;a<e.length;a++)e[a]===t&&n++;return n}},{key:"getPairs",value:function(e){for(var t=this.convertToChars(e),n=new Set(t),a=Object(f.a)(n),r=[],c=0;c<a.length;c++){var l=[];if(this.countOcurrences(t,a[c])>1){for(var s=0;s<t.length;s++)a[c]===t[s]&&l.push(e[s]);var o={};o.result=l;var i=l.length;2===i?(o.description="Pair",o.score=2):3===i?(o.description="Three of a kind",o.score=6):4===i&&(o.description="Four of a kind",o.score=12),r.push(o)}}return r}},{key:"checkForFifteenPairs",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=this.convertToIntegers(e),a=this.twoSum(n,t),r=[],c=0;c<a.length;c++)r.push([e[a[c][0]],e[a[c][1]]]);return r}},{key:"checkForFifteenTriplets",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=this.convertToIntegers(e),a=t-n[0];n.shift();for(var r=[],c=1;c<n.length;c++){for(var l=this.twoSum(n,a),s=0;s<l.length;s++){var o=[e[c-1]];o.push(e[l[s][0]+c]),o.push(e[l[s][1]+c]),r.push(o)}a=t-n[0],n.shift()}return r}},{key:"checkForFifteenQuartets",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=[],a=this.convertToIntegers(e),r=0;r<a.length;r++){if(a[0]+a[1]+a[2]+a[3]+a[4]-a[r]===t){var c=Object(f.a)(e);c.splice(r,1),n.push(c)}}return n}},{key:"checkForFifteenQuintet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=[],a=this.convertToIntegers(e);return a[0]+a[1]+a[2]+a[3]+a[4]===t&&n.push(e),n}},{key:"checkForFlush",value:function(e){var t=Object(f.a)(e),n=function(e){return e.every(function(t){return t.suit===e[0].suit})},a=n(t);return a?t:(t.pop(),(a=n(t))?t:[])}},{key:"checkForNibs",value:function(e,t){for(var n=t.suit,a=[],r=0;r<e.length;r++)"JACK"===e[r].value&&e[r].suit===n&&a.push(t);return a}},{key:"checkForRuns",value:function(e){for(var t=this.sortCards(e),n=[],a=[[0,1,2,3],[0,1,2,4],[0,1,3,4],[0,2,3,4],[1,2,3,4]],r=[[0,1,2],[0,1,3],[1,2,3],[0,1,4],[0,2,4],[1,2,4],[0,3,4],[1,3,4],[2,3,4]],c=!0,l=0;l<4;l++)if(t[l+1].val-t[l].val!==1){c=!1;break}var s=!1;if(!c)for(var o=0;o<a.length;o++)if(this.findRun(t,a[o],4)){n.push([t[a[o][0]],t[a[o][1]],t[a[o][2]],t[a[o][3]]]),s=!0}if(!s)for(var i=0;i<r.length;i++)this.findRun(t,r[i],3)&&(n.push([t[r[i][0]],t[r[i][1]],t[r[i][2]]]),n.description="fred",n.score=3,!0);return n}},{key:"tallyTheScores",value:function(e,t,n,a){for(var r=0,c=0;c<e.length;c++)r+=e[c].score;for(var l=0;l<t.length;l++)r+=2;for(var s=0;s<n.length;s++)r+=n[s].length;return a.length>0&&(console.log("PPPPPPPPPPPPP added a nib score ",a.length),r+=1),r}},{key:"render",value:function(){var e,t,n,a,c,l,s,o,i,u=this,d=[],h=this.props,m=h.cards,v=h.card,g=this.state.showResults,p=Object(f.a)(m);p.push(v);var k=0;if(5===p.length){d=this.getPairs(p),console.log("======> fullHand: ",p),console.log("****** P A I R  T E S T I N G"),console.log(d);var E=this.checkForFifteenPairs(p);console.log("======> fullHand: ",p),console.log("****** S U M   T E S T I N G - P A I R S "),console.log(E);var b=this.checkForFifteenTriplets(p);console.log("======> fullHand: ",p),console.log("****** S U M   T E S T I N G - T R I P L E T S  "),console.log(b);var y=this.checkForFifteenQuartets(p);console.log("======> fullHand: ",p),console.log("****** S U M   T E S T I N G - Q U A R T E T S  "),console.log(y);var N=this.checkForFifteenQuintet(p);console.log("======> fullHand: ",p),console.log("****** S U M   T E S T I N G - Q U I N T E T  "),console.log(N),s=this.checkForFlush(p),console.log("======> fullHand: ",p),console.log("****** F L U S H   T E S T I N G   "),console.log(s),o=this.checkForRuns(p),console.log("======> fullHand: ",p),console.log("******  R U N S    T E S T I N G   "),console.log("======> runsResult ",o),console.log(o),i=this.checkForNibs(m,v),console.log("======> cards: ",m),console.log("======> card: ",v),console.log("======> nibsResult ",i),console.log("******  N I B S   T E S T I N G   "),console.log(i),l=[].concat(Object(f.a)(E),Object(f.a)(b),Object(f.a)(y),Object(f.a)(N)),k=this.tallyTheScores(d,l,o,i)}var O=r.a.createElement("div",{className:"show-results"},r.a.createElement("input",{type:"checkbox",inline:"true",checked:g,onClick:function(){u.setState({showResults:!g})}}),r.a.createElement("div",null,"Show results"));return 5===p.length&&(e=r.a.createElement("div",null,d.map(function(e){return r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.result.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},e.description," - Points: ",e.score))))})),t=r.a.createElement("div",null,l.map(function(e){return r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Sum to 15 - Points: 2"))))})),n=r.a.createElement("div",null,o.map(function(e){return r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},e.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Run - Points: ",e.length))))})),c=r.a.createElement("div",null,i.map(function(e){return r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})),r.a.createElement("div",{className:"result-text"},"Nibs - Points: 1"))))})),a=s.length>0?r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("ul",null,r.a.createElement("div",{className:"result-row"},r.a.createElement("div",{className:"result-image"},s.map(function(e){return r.a.createElement("img",{className:"hand-results",src:e.image,key:e.code,alt:e.code})})),r.a.createElement("div",{className:"result-text"},"Flush - Points: 5")))):r.a.createElement("div",null)),5===p.length?r.a.createElement("div",null,r.a.createElement("div",null,O),r.a.createElement("div",{style:{display:g?"block":"none"}},r.a.createElement("h3",null,"Result: Score = ",k)),e,t,n,a,c):r.a.createElement("div",null,O,r.a.createElement("div",null,"Nothing to display"))}}]),t}(a.Component),p=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).turnOverCard=n.turnOverCard.bind(Object(h.a)(Object(h.a)(n))),n.getHand=n.getHand.bind(Object(h.a)(Object(h.a)(n))),n.state={deck:[]},n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then(function(e){return e.json()}).then(function(t){e.setState({deck:t})})}},{key:"turnOverCard",value:function(e){var t=this,n="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=1";fetch(n).then(function(e){return e.json()}).then(function(e){t.setState({crib:e.cards})})}},{key:"getHandTemp",value:function(e){this.setState({hand:[{value:"5",code:"5h",image:"https://deckofcardsapi.com/static/img/5H.png",suit:"HEARTS"},{value:"5",code:"5d",image:"https://deckofcardsapi.com/static/img/5D.png",suit:"DIAMONDS"},{value:"5",code:"5s",image:"https://deckofcardsapi.com/static/img/5S.png",suit:"SPADES"},{value:"JACK",code:"jc",image:"https://deckofcardsapi.com/static/img/JC.png",suit:"CLUBS"}]})}},{key:"getHand",value:function(e){var t=this,n="https://deckofcardsapi.com/api/deck/"+e.deck_id+"/draw/?count=4";fetch(n).then(function(e){return e.json()}).then(function(e){console.log("GET HAND cards2",e.cards),t.setState({hand:e.cards})})}},{key:"render",value:function(){var e,t,n=this.state.deck.deck_id;return e=this.state.crib?this.state.crib[0]:{},t=this.state.hand?this.state.hand:[],r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Cribbage Hand Tester"),r.a.createElement("p",null,"Guess how many points this hand is worth."),r.a.createElement(v,{deck_id:n,getHand:this.getHand,cards:t}),r.a.createElement(m,{deck_id:n,turnOverCard:this.turnOverCard,card:e}),r.a.createElement(g,{cards:t,card:e}))}}]),t}(a.Component);n(22);l.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.56cad904.chunk.js.map